#!/usr/bin/env bash
# Wrapper script for running adsil_analyzer from an extracted distribution
# Resolves path relative to script location for portable use.
set -euo pipefail
SCRIPT_DIR="$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="${SCRIPT_DIR}"
BIN="${ROOT_DIR}/bin/adsil_analyzer"
RESOURCES_DIR="${ROOT_DIR}/resources"
if [ ! -x "$BIN" ]; then
  echo "Error: adsil_analyzer binary not found at $BIN" >&2
  exit 1
fi
# Export base resource directory (app can read)
export ADSIL_RESOURCE_DIR="${RESOURCES_DIR}"
exec "$BIN" "$@"
